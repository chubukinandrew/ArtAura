<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ArtAura</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,700&family=Roboto:ital,wght@1,100&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Playfair Display', serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(#df725d, #cc4b51, #7f4855, #463e50, #233e51);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      overflow: hidden;
      position: relative;
    }

    .wrapper {
      &:hover {
        p span {
          animation: smoke 1.75s ease-in forwards;
        }
      }
    }

    p {
      opacity: 0;
      margin: 0;
      font-style: italic;
      color: #f5f5f5;
      filter: blur(0.02vmin);
      animation: fade-in 1s ease-in-out forwards;
      text-shadow: 0 0 2vmin #df725d;

      span {
        display: inline-block;
      }

      &.text {
        font-size: 10vmin;
        font-family: 'Playfair Display', serif;
        font-weight: 700;
        margin: -10% 0 -5%;
        animation-delay: 1s;
        white-space: nowrap;

        span {
          margin-left: -1.5%;

          &:nth-child(1) { animation-delay: 0.6s; }
          &:nth-child(2) { animation-delay: 0.8s; }
          &:nth-child(3) { animation-delay: 1s; }
          &:nth-child(4) { animation-delay: 1.2s; }
          &:nth-child(5) { animation-delay: 1.4s; }
          &:nth-child(6) { animation-delay: 1.6s; }
          &:nth-child(7) { animation-delay: 1.8s; }
          &:nth-child(8) { animation-delay: 2s; }
          &:nth-child(9) { animation-delay: 2.2s; }
          &:nth-child(10) { animation-delay: 2.4s; }
          &:nth-child(11) { animation-delay: 2.6s; }
          &:nth-child(12) { animation-delay: 2.8s; }
          &:nth-child(13) { animation-delay: 3s; }
          &:nth-child(14) { animation-delay: 3.2s; }
          &:nth-child(15) { animation-delay: 3.4s; }
          &:nth-child(16) { animation-delay: 3.6s; }
          &:nth-child(17) { animation-delay: 3.8s; }
          &:nth-child(18) { animation-delay: 4s; }
          &:nth-child(19) { animation-delay: 4.2s; }
          &:nth-child(20) { animation-delay: 4.4s; }
          &:nth-child(21) { animation-delay: 4.6s; }
          &:nth-child(22) { animation-delay: 4.8s; }
          &:nth-child(23) { animation-delay: 5s; }
          &:nth-child(24) { animation-delay: 5.2s; }
          &:nth-child(25) { animation-delay: 5.4s; }
        }
      }
    }

    .star {
      $baseSize: 1px;
      position: absolute;
      height: $baseSize;
      width: $baseSize;
      background-color: #f5f5f5;
      border-radius: 50%;
      box-shadow: 0 0 4px 1px #f5f5f5;
      animation: twinkle 4s infinite;

      &.medium {
        height: $baseSize + 1;
        width: $baseSize + 1;
      }
    }

    @keyframes twinkle {
      0% { opacity: 0.5; }
      50% { opacity: 1; }
      100% { opacity: 0.5; }
    }

    @keyframes smoke {
      0% {
        transform: rotate(0deg) translate3d(0%) skew(0deg) scale(1);
        opacity: 1;
        filter: blur(0.02vmin);
      }
      100% {
        transform: rotate(15deg) translate3d(85%, -75%, 0) skew(-30deg) scale(2);
        opacity: 0;
        filter: blur(2.5vmin);
      }
    }

    @keyframes fade-in {
      0% {
        opacity: 0;
        transform: translate3d(-2vmin, 2vmin, 0);
        filter: blur(1vmin);
      }
      100% {
        opacity: 1;
        transform: translate3d(0);
        filter: blur(0.02vmin);
      }
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/examples/js/loaders/FontLoader.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/examples/js/geometries/TextGeometry.js"></script>
</head>
<body>
  <div class="wrapper">
    <p class="text">
      <span>Л</span>
      <span>у</span>
      <span>ч</span>
      <span>ш</span>
      <span>е</span>
      <span>е</span>
      <span> </span>
      <span>и</span>
      <span>с</span>
      <span>к</span>
      <span>у</span>
      <span>с</span>
      <span>с</span>
      <span>т</span>
      <span>в</span>
      <span>о</span>
      <span> </span>
      <span>У</span>
      <span>р</span>
      <span>а</span>
      <span>л</span>
      <span>ь</span>
      <span>с</span>
      <span>к</span>
      <span>а</span>
      <span> </span>
      <span>з</span>
      <span>д</span>
      <span>е</span>
      <span>с</span>
      <span>ь</span>
    </p>
  </div>

  <div id="home">
    <canvas id="canvas"></canvas>
  </div>

  <div class="brush-icon" onclick="showSections()"></div>

  <script>
    function showSections() {
      document.body.classList.add('show');
    }

    const canvas = document.getElementById('canvas');
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true });
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 5;

    renderer.setSize(window.innerWidth, window.innerHeight);

    const loader = new THREE.FontLoader();
    loader.load('https://threejs.org/examples/fonts/helvetiker_regular.typeface.json', function (font) {
      const geometry = new THREE.TextGeometry('Лучшее искусство Уральска здесь', {
        font: font,
        size: 1,
        height: 0.2,
        curveSegments: 12,
        bevelEnabled: true,
        bevelThickness: 0.03,
        bevelSize: 0.02,
        bevelOffset: 0,
        bevelSegments: 5
      });
      const material = new THREE.PointsMaterial({ color: 0xffffff, size: 0.05 });
      const particles = new THREE.Points(geometry, material);
      scene.add(particles);

      gsap.to(particles.geometry.attributes.position.array, {
        scrollTrigger: {
          trigger: '#home',
          start: 'top top',
          end: 'bottom top',
          scrub: true
        },
        x: "random(-100, 100)",
        y: "random(-100, 100)",
        z: "random(-100, 100)",
        stagger: {
          each: 0.02,
          from: "random"
        },
        ease: "none"
      });
    });

    window.addEventListener('resize', () => {
      renderer.setSize(window.innerWidth, window.innerHeight);
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
    });

    function animate() {
      requestAnimationFrame(animate);
      renderer.render(scene, camera);
    }

    animate();

    const starsPerHundredPixelsSquare = 1;
    const documentElement = document.documentElement;
    const documentHeight = documentElement.offsetHeight;
    const documentWidth = documentElement.offsetWidth;

    let starsCount = (
      (Math.floor(documentHeight / 100) * Math.floor(documentWidth / 100))
      * starsPerHundredPixelsSquare
    );
    let delay = Math.round(starsCount / 5000);

    if (delay < 1) {
      delay = 1;
    }

    const intervalId = window.setInterval(() => {
      const star = document.createElement('i');

      star.classList.add('star');
      star.classList.add(
        Math.floor((Math.random() * 10) % 2) === 0
          ? 'small'
          : 'medium'
      );

      star.style.left = (Math.random() * 99).toFixed(2) + '%';
      star.style.top = (Math.random() * 99).toFixed(2) + '%';

      document.body.appendChild(star);

      if (--starsCount === 0) {
        window.clearInterval(intervalId);
      }
    }, delay);
  </script>
</body>
</html>
